!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("d3-selection"),require("d3")):"function"==typeof define&&define.amd?define(["d3-selection","d3"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).LegendLite=e(t.d3,t.d3)}(this,(function(t,e){"use strict";function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){s=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=function(t){try{return!!t()}catch(t){return!0}},f=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),l=!s((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),d=l,p=Function.prototype,h=p.call,v=d&&p.bind.bind(h,h),y=d?v:function(t){return function(){return h.apply(t,arguments)}},g=function(t){return null==t},m=g,b=TypeError,w=function(t){if(m(t))throw b("Can't call method on "+t);return t},S=w,O=Object,j=function(t){return O(S(t))},E=j,T=y({}.hasOwnProperty),x=Object.hasOwn||function(t,e){return T(E(t),e)},P=f,R=x,k=Function.prototype,M=P&&Object.getOwnPropertyDescriptor,A=R(k,"name"),I={EXISTS:A,PROPER:A&&"something"===function(){}.name,CONFIGURABLE:A&&(!P||P&&M(k,"name").configurable)},C={exports:{}},L="object"==typeof document&&document.all,N={all:L,IS_HTMLDDA:void 0===L&&void 0!==L},B=N.all,D=N.IS_HTMLDDA?function(t){return"function"==typeof t||t===B}:function(t){return"function"==typeof t},G=function(t){return t&&t.Math==Math&&t},F=G("object"==typeof globalThis&&globalThis)||G("object"==typeof window&&window)||G("object"==typeof self&&self)||G("object"==typeof c&&c)||function(){return this}()||c||Function("return this")(),q=F,_=Object.defineProperty,W=function(t,e){try{_(q,t,{value:e,configurable:!0,writable:!0})}catch(n){q[t]=e}return e},$=W,z="__core-js_shared__",Y=F[z]||$(z,{}),U=D,H=Y,V=y(Function.toString);U(H.inspectSource)||(H.inspectSource=function(t){return V(t)});var K,J,X=H.inspectSource,Q=D,Z=F.WeakMap,tt=Q(Z)&&/native code/.test(String(Z)),et=D,nt=N.all,rt=N.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:et(t)||t===nt}:function(t){return"object"==typeof t?null!==t:et(t)},ot={},it=rt,at=F.document,ut=it(at)&&it(at.createElement),ct=function(t){return ut?at.createElement(t):{}},st=ct,ft=!f&&!s((function(){return 7!=Object.defineProperty(st("div"),"a",{get:function(){return 7}}).a})),lt=f&&s((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),dt=rt,pt=String,ht=TypeError,vt=function(t){if(dt(t))return t;throw ht(pt(t)+" is not an object")},yt=l,gt=Function.prototype.call,mt=yt?gt.bind(gt):function(){return gt.apply(gt,arguments)},bt=F,wt=D,St=function(t,e){return arguments.length<2?(n=bt[t],wt(n)?n:void 0):bt[t]&&bt[t][e];var n},Ot=y({}.isPrototypeOf),jt="undefined"!=typeof navigator&&String(navigator.userAgent)||"",Et=F,Tt=jt,xt=Et.process,Pt=Et.Deno,Rt=xt&&xt.versions||Pt&&Pt.version,kt=Rt&&Rt.v8;kt&&(J=(K=kt.split("."))[0]>0&&K[0]<4?1:+(K[0]+K[1])),!J&&Tt&&(!(K=Tt.match(/Edge\/(\d+)/))||K[1]>=74)&&(K=Tt.match(/Chrome\/(\d+)/))&&(J=+K[1]);var Mt=J,At=Mt,It=s,Ct=F.String,Lt=!!Object.getOwnPropertySymbols&&!It((function(){var t=Symbol();return!Ct(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&At&&At<41})),Nt=Lt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Bt=St,Dt=D,Gt=Ot,Ft=Object,qt=Nt?function(t){return"symbol"==typeof t}:function(t){var e=Bt("Symbol");return Dt(e)&&Gt(e.prototype,Ft(t))},_t=String,Wt=function(t){try{return _t(t)}catch(t){return"Object"}},$t=D,zt=Wt,Yt=TypeError,Ut=function(t){if($t(t))return t;throw Yt(zt(t)+" is not a function")},Ht=Ut,Vt=g,Kt=function(t,e){var n=t[e];return Vt(n)?void 0:Ht(n)},Jt=mt,Xt=D,Qt=rt,Zt=TypeError,te={exports:{}},ee=Y;(te.exports=function(t,e){return ee[t]||(ee[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.30.2",mode:"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"});var ne=te.exports,re=y,oe=0,ie=Math.random(),ae=re(1..toString),ue=function(t){return"Symbol("+(void 0===t?"":t)+")_"+ae(++oe+ie,36)},ce=ne,se=x,fe=ue,le=Lt,de=Nt,pe=F.Symbol,he=ce("wks"),ve=de?pe.for||pe:pe&&pe.withoutSetter||fe,ye=function(t){return se(he,t)||(he[t]=le&&se(pe,t)?pe[t]:ve("Symbol."+t)),he[t]},ge=mt,me=rt,be=qt,we=Kt,Se=function(t,e){var n,r;if("string"===e&&Xt(n=t.toString)&&!Qt(r=Jt(n,t)))return r;if(Xt(n=t.valueOf)&&!Qt(r=Jt(n,t)))return r;if("string"!==e&&Xt(n=t.toString)&&!Qt(r=Jt(n,t)))return r;throw Zt("Can't convert object to primitive value")},Oe=TypeError,je=ye("toPrimitive"),Ee=function(t,e){if(!me(t)||be(t))return t;var n,r=we(t,je);if(r){if(void 0===e&&(e="default"),n=ge(r,t,e),!me(n)||be(n))return n;throw Oe("Can't convert object to primitive value")}return void 0===e&&(e="number"),Se(t,e)},Te=qt,xe=function(t){var e=Ee(t,"string");return Te(e)?e:e+""},Pe=f,Re=ft,ke=lt,Me=vt,Ae=xe,Ie=TypeError,Ce=Object.defineProperty,Le=Object.getOwnPropertyDescriptor,Ne="enumerable",Be="configurable",De="writable";ot.f=Pe?ke?function(t,e,n){if(Me(t),e=Ae(e),Me(n),"function"==typeof t&&"prototype"===e&&"value"in n&&De in n&&!n[De]){var r=Le(t,e);r&&r[De]&&(t[e]=n.value,n={configurable:Be in n?n[Be]:r[Be],enumerable:Ne in n?n[Ne]:r[Ne],writable:!1})}return Ce(t,e,n)}:Ce:function(t,e,n){if(Me(t),e=Ae(e),Me(n),Re)try{return Ce(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Ie("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var Ge,Fe,qe,_e=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},We=ot,$e=_e,ze=f?function(t,e,n){return We.f(t,e,$e(1,n))}:function(t,e,n){return t[e]=n,t},Ye=ue,Ue=ne("keys"),He=function(t){return Ue[t]||(Ue[t]=Ye(t))},Ve={},Ke=tt,Je=F,Xe=rt,Qe=ze,Ze=x,tn=Y,en=He,nn=Ve,rn="Object already initialized",on=Je.TypeError,an=Je.WeakMap;if(Ke||tn.state){var un=tn.state||(tn.state=new an);un.get=un.get,un.has=un.has,un.set=un.set,Ge=function(t,e){if(un.has(t))throw on(rn);return e.facade=t,un.set(t,e),e},Fe=function(t){return un.get(t)||{}},qe=function(t){return un.has(t)}}else{var cn=en("state");nn[cn]=!0,Ge=function(t,e){if(Ze(t,cn))throw on(rn);return e.facade=t,Qe(t,cn,e),e},Fe=function(t){return Ze(t,cn)?t[cn]:{}},qe=function(t){return Ze(t,cn)}}var sn={set:Ge,get:Fe,has:qe,enforce:function(t){return qe(t)?Fe(t):Ge(t,{})},getterFor:function(t){return function(e){var n;if(!Xe(e)||(n=Fe(e)).type!==t)throw on("Incompatible receiver, "+t+" required");return n}}},fn=y,ln=s,dn=D,pn=x,hn=f,vn=I.CONFIGURABLE,yn=X,gn=sn.enforce,mn=sn.get,bn=String,wn=Object.defineProperty,Sn=fn("".slice),On=fn("".replace),jn=fn([].join),En=hn&&!ln((function(){return 8!==wn((function(){}),"length",{value:8}).length})),Tn=String(String).split("String"),xn=C.exports=function(t,e,n){"Symbol("===Sn(bn(e),0,7)&&(e="["+On(bn(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!pn(t,"name")||vn&&t.name!==e)&&(hn?wn(t,"name",{value:e,configurable:!0}):t.name=e),En&&n&&pn(n,"arity")&&t.length!==n.arity&&wn(t,"length",{value:n.arity});try{n&&pn(n,"constructor")&&n.constructor?hn&&wn(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=gn(t);return pn(r,"source")||(r.source=jn(Tn,"string"==typeof e?e:"")),t};Function.prototype.toString=xn((function(){return dn(this)&&mn(this).source||yn(this)}),"toString");var Pn=C.exports,Rn=Pn,kn=ot,Mn=function(t,e,n){return n.get&&Rn(n.get,e,{getter:!0}),n.set&&Rn(n.set,e,{setter:!0}),kn.f(t,e,n)},An=f,In=I.EXISTS,Cn=y,Ln=Mn,Nn=Function.prototype,Bn=Cn(Nn.toString),Dn=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Gn=Cn(Dn.exec);An&&!In&&Ln(Nn,"name",{configurable:!0,get:function(){try{return Gn(Dn,Bn(this))[1]}catch(t){return""}}});var Fn={},qn={},_n={}.propertyIsEnumerable,Wn=Object.getOwnPropertyDescriptor,$n=Wn&&!_n.call({1:2},1);qn.f=$n?function(t){var e=Wn(this,t);return!!e&&e.enumerable}:_n;var zn=y,Yn=zn({}.toString),Un=zn("".slice),Hn=function(t){return Un(Yn(t),8,-1)},Vn=s,Kn=Hn,Jn=Object,Xn=y("".split),Qn=Vn((function(){return!Jn("z").propertyIsEnumerable(0)}))?function(t){return"String"==Kn(t)?Xn(t,""):Jn(t)}:Jn,Zn=Qn,tr=w,er=function(t){return Zn(tr(t))},nr=f,rr=mt,or=qn,ir=_e,ar=er,ur=xe,cr=x,sr=ft,fr=Object.getOwnPropertyDescriptor;Fn.f=nr?fr:function(t,e){if(t=ar(t),e=ur(e),sr)try{return fr(t,e)}catch(t){}if(cr(t,e))return ir(!rr(or.f,t,e),t[e])};var lr=D,dr=ot,pr=Pn,hr=W,vr=function(t,e,n,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:e;if(lr(n)&&pr(n,i,r),r.global)o?t[e]=n:hr(e,n);else{try{r.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=n:dr.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},yr={},gr=Math.ceil,mr=Math.floor,br=Math.trunc||function(t){var e=+t;return(e>0?mr:gr)(e)},wr=function(t){var e=+t;return e!=e||0===e?0:br(e)},Sr=wr,Or=Math.max,jr=Math.min,Er=function(t,e){var n=Sr(t);return n<0?Or(n+e,0):jr(n,e)},Tr=wr,xr=Math.min,Pr=function(t){return t>0?xr(Tr(t),9007199254740991):0},Rr=Pr,kr=function(t){return Rr(t.length)},Mr=er,Ar=Er,Ir=kr,Cr=function(t){return function(e,n,r){var o,i=Mr(e),a=Ir(i),u=Ar(r,a);if(t&&n!=n){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((t||u in i)&&i[u]===n)return t||u||0;return!t&&-1}},Lr={includes:Cr(!0),indexOf:Cr(!1)},Nr=x,Br=er,Dr=Lr.indexOf,Gr=Ve,Fr=y([].push),qr=function(t,e){var n,r=Br(t),o=0,i=[];for(n in r)!Nr(Gr,n)&&Nr(r,n)&&Fr(i,n);for(;e.length>o;)Nr(r,n=e[o++])&&(~Dr(i,n)||Fr(i,n));return i},_r=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Wr=qr,$r=_r.concat("length","prototype");yr.f=Object.getOwnPropertyNames||function(t){return Wr(t,$r)};var zr={};zr.f=Object.getOwnPropertySymbols;var Yr=St,Ur=yr,Hr=zr,Vr=vt,Kr=y([].concat),Jr=Yr("Reflect","ownKeys")||function(t){var e=Ur.f(Vr(t)),n=Hr.f;return n?Kr(e,n(t)):e},Xr=x,Qr=Jr,Zr=Fn,to=ot,eo=s,no=D,ro=/#|\.prototype\./,oo=function(t,e){var n=ao[io(t)];return n==co||n!=uo&&(no(e)?eo(e):!!e)},io=oo.normalize=function(t){return String(t).replace(ro,".").toLowerCase()},ao=oo.data={},uo=oo.NATIVE="N",co=oo.POLYFILL="P",so=oo,fo=F,lo=Fn.f,po=ze,ho=vr,vo=W,yo=function(t,e,n){for(var r=Qr(e),o=to.f,i=Zr.f,a=0;a<r.length;a++){var u=r[a];Xr(t,u)||n&&Xr(n,u)||o(t,u,i(e,u))}},go=so,mo=function(t,e){var n,r,o,i,a,u=t.target,c=t.global,s=t.stat;if(n=c?fo:s?fo[u]||vo(u,{}):(fo[u]||{}).prototype)for(r in e){if(i=e[r],o=t.dontCallGetSet?(a=lo(n,r))&&a.value:n[r],!go(c?r:u+(s?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;yo(i,o)}(t.sham||o&&o.sham)&&po(i,"sham",!0),ho(n,r,i,t)}},bo=qr,wo=_r,So=Object.keys||function(t){return bo(t,wo)},Oo=f,jo=y,Eo=mt,To=s,xo=So,Po=zr,Ro=qn,ko=j,Mo=Qn,Ao=Object.assign,Io=Object.defineProperty,Co=jo([].concat),Lo=!Ao||To((function(){if(Oo&&1!==Ao({b:1},Ao(Io({},"a",{enumerable:!0,get:function(){Io(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=Ao({},t)[n]||xo(Ao({},e)).join("")!=r}))?function(t,e){for(var n=ko(t),r=arguments.length,o=1,i=Po.f,a=Ro.f;r>o;)for(var u,c=Mo(arguments[o++]),s=i?Co(xo(c),i(c)):xo(c),f=s.length,l=0;f>l;)u=s[l++],Oo&&!Eo(a,c,u)||(n[u]=c[u]);return n}:Ao,No=Lo;mo({target:"Object",stat:!0,arity:2,forced:Object.assign!==No},{assign:No});var Bo={};Bo[ye("toStringTag")]="z";var Do="[object z]"===String(Bo),Go=Do,Fo=D,qo=Hn,_o=ye("toStringTag"),Wo=Object,$o="Arguments"==qo(function(){return arguments}()),zo=Go?qo:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Wo(t),_o))?n:$o?qo(e):"Object"==(r=qo(e))&&Fo(e.callee)?"Arguments":r},Yo=zo,Uo=Do?{}.toString:function(){return"[object "+Yo(this)+"]"};Do||vr(Object.prototype,"toString",Uo,{unsafe:!0});var Ho="undefined"!=typeof process&&"process"==Hn(process),Vo=y,Ko=Ut,Jo=D,Xo=String,Qo=TypeError,Zo=function(t,e,n){try{return Vo(Ko(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}},ti=vt,ei=function(t){if("object"==typeof t||Jo(t))return t;throw Qo("Can't set "+Xo(t)+" as a prototype")},ni=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Zo(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return ti(n),ei(r),e?t(n,r):n.__proto__=r,n}}():void 0),ri=ot.f,oi=x,ii=ye("toStringTag"),ai=function(t,e,n){t&&!n&&(t=t.prototype),t&&!oi(t,ii)&&ri(t,ii,{configurable:!0,value:e})},ui=St,ci=Mn,si=f,fi=ye("species"),li=function(t){var e=ui(t);si&&e&&!e[fi]&&ci(e,fi,{configurable:!0,get:function(){return this}})},di=Ot,pi=TypeError,hi=function(t,e){if(di(e,t))return t;throw pi("Incorrect invocation")},vi=y,yi=s,gi=D,mi=zo,bi=X,wi=function(){},Si=[],Oi=St("Reflect","construct"),ji=/^\s*(?:class|function)\b/,Ei=vi(ji.exec),Ti=!ji.exec(wi),xi=function(t){if(!gi(t))return!1;try{return Oi(wi,Si,t),!0}catch(t){return!1}},Pi=function(t){if(!gi(t))return!1;switch(mi(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ti||!!Ei(ji,bi(t))}catch(t){return!0}};Pi.sham=!0;var Ri,ki,Mi,Ai,Ii=!Oi||yi((function(){var t;return xi(xi.call)||!xi(Object)||!xi((function(){t=!0}))||t}))?Pi:xi,Ci=Ii,Li=Wt,Ni=TypeError,Bi=vt,Di=function(t){if(Ci(t))return t;throw Ni(Li(t)+" is not a constructor")},Gi=g,Fi=ye("species"),qi=l,_i=Function.prototype,Wi=_i.apply,$i=_i.call,zi="object"==typeof Reflect&&Reflect.apply||(qi?$i.bind(Wi):function(){return $i.apply(Wi,arguments)}),Yi=Hn,Ui=y,Hi=function(t){if("Function"===Yi(t))return Ui(t)},Vi=Ut,Ki=l,Ji=Hi(Hi.bind),Xi=function(t,e){return Vi(t),void 0===e?t:Ki?Ji(t,e):function(){return t.apply(e,arguments)}},Qi=St("document","documentElement"),Zi=y([].slice),ta=TypeError,ea=/(?:ipad|iphone|ipod).*applewebkit/i.test(jt),na=F,ra=zi,oa=Xi,ia=D,aa=x,ua=s,ca=Qi,sa=Zi,fa=ct,la=function(t,e){if(t<e)throw ta("Not enough arguments");return t},da=ea,pa=Ho,ha=na.setImmediate,va=na.clearImmediate,ya=na.process,ga=na.Dispatch,ma=na.Function,ba=na.MessageChannel,wa=na.String,Sa=0,Oa={},ja="onreadystatechange";ua((function(){Ri=na.location}));var Ea=function(t){if(aa(Oa,t)){var e=Oa[t];delete Oa[t],e()}},Ta=function(t){return function(){Ea(t)}},xa=function(t){Ea(t.data)},Pa=function(t){na.postMessage(wa(t),Ri.protocol+"//"+Ri.host)};ha&&va||(ha=function(t){la(arguments.length,1);var e=ia(t)?t:ma(t),n=sa(arguments,1);return Oa[++Sa]=function(){ra(e,void 0,n)},ki(Sa),Sa},va=function(t){delete Oa[t]},pa?ki=function(t){ya.nextTick(Ta(t))}:ga&&ga.now?ki=function(t){ga.now(Ta(t))}:ba&&!da?(Ai=(Mi=new ba).port2,Mi.port1.onmessage=xa,ki=oa(Ai.postMessage,Ai)):na.addEventListener&&ia(na.postMessage)&&!na.importScripts&&Ri&&"file:"!==Ri.protocol&&!ua(Pa)?(ki=Pa,na.addEventListener("message",xa,!1)):ki=ja in fa("script")?function(t){ca.appendChild(fa("script"))[ja]=function(){ca.removeChild(this),Ea(t)}}:function(t){setTimeout(Ta(t),0)});var Ra={set:ha,clear:va},ka=function(){this.head=null,this.tail=null};ka.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var Ma,Aa,Ia,Ca,La,Na=ka,Ba=/ipad|iphone|ipod/i.test(jt)&&"undefined"!=typeof Pebble,Da=/web0s(?!.*chrome)/i.test(jt),Ga=F,Fa=Xi,qa=Fn.f,_a=Ra.set,Wa=Na,$a=ea,za=Ba,Ya=Da,Ua=Ho,Ha=Ga.MutationObserver||Ga.WebKitMutationObserver,Va=Ga.document,Ka=Ga.process,Ja=Ga.Promise,Xa=qa(Ga,"queueMicrotask"),Qa=Xa&&Xa.value;if(!Qa){var Za=new Wa,tu=function(){var t,e;for(Ua&&(t=Ka.domain)&&t.exit();e=Za.get();)try{e()}catch(t){throw Za.head&&Ma(),t}t&&t.enter()};$a||Ua||Ya||!Ha||!Va?!za&&Ja&&Ja.resolve?((Ca=Ja.resolve(void 0)).constructor=Ja,La=Fa(Ca.then,Ca),Ma=function(){La(tu)}):Ua?Ma=function(){Ka.nextTick(tu)}:(_a=Fa(_a,Ga),Ma=function(){_a(tu)}):(Aa=!0,Ia=Va.createTextNode(""),new Ha(tu).observe(Ia,{characterData:!0}),Ma=function(){Ia.data=Aa=!Aa}),Qa=function(t){Za.head||Ma(),Za.add(t)}}var eu=Qa,nu=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},ru=F.Promise,ou="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,iu=!ou&&!Ho&&"object"==typeof window&&"object"==typeof document,au=F,uu=ru,cu=D,su=so,fu=X,lu=ye,du=iu,pu=ou,hu=Mt;uu&&uu.prototype;var vu=lu("species"),yu=!1,gu=cu(au.PromiseRejectionEvent),mu=su("Promise",(function(){var t=fu(uu),e=t!==String(uu);if(!e&&66===hu)return!0;if(!hu||hu<51||!/native code/.test(t)){var n=new uu((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[vu]=r,!(yu=n.then((function(){}))instanceof r))return!0}return!e&&(du||pu)&&!gu})),bu={CONSTRUCTOR:mu,REJECTION_EVENT:gu,SUBCLASSING:yu},wu={},Su=Ut,Ou=TypeError,ju=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw Ou("Bad Promise constructor");e=t,n=r})),this.resolve=Su(e),this.reject=Su(n)};wu.f=function(t){return new ju(t)};var Eu,Tu,xu,Pu=mo,Ru=Ho,ku=F,Mu=mt,Au=vr,Iu=ni,Cu=ai,Lu=li,Nu=Ut,Bu=D,Du=rt,Gu=hi,Fu=function(t,e){var n,r=Bi(t).constructor;return void 0===r||Gi(n=Bi(r)[Fi])?e:Di(n)},qu=Ra.set,_u=eu,Wu=function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(t){}},$u=nu,zu=Na,Yu=sn,Uu=ru,Hu=wu,Vu="Promise",Ku=bu.CONSTRUCTOR,Ju=bu.REJECTION_EVENT,Xu=bu.SUBCLASSING,Qu=Yu.getterFor(Vu),Zu=Yu.set,tc=Uu&&Uu.prototype,ec=Uu,nc=tc,rc=ku.TypeError,oc=ku.document,ic=ku.process,ac=Hu.f,uc=ac,cc=!!(oc&&oc.createEvent&&ku.dispatchEvent),sc="unhandledrejection",fc=function(t){var e;return!(!Du(t)||!Bu(e=t.then))&&e},lc=function(t,e){var n,r,o,i=e.value,a=1==e.state,u=a?t.ok:t.fail,c=t.resolve,s=t.reject,f=t.domain;try{u?(a||(2===e.rejection&&yc(e),e.rejection=1),!0===u?n=i:(f&&f.enter(),n=u(i),f&&(f.exit(),o=!0)),n===t.promise?s(rc("Promise-chain cycle")):(r=fc(n))?Mu(r,n,c,s):c(n)):s(i)}catch(t){f&&!o&&f.exit(),s(t)}},dc=function(t,e){t.notified||(t.notified=!0,_u((function(){for(var n,r=t.reactions;n=r.get();)lc(n,t);t.notified=!1,e&&!t.rejection&&hc(t)})))},pc=function(t,e,n){var r,o;cc?((r=oc.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),ku.dispatchEvent(r)):r={promise:e,reason:n},!Ju&&(o=ku["on"+t])?o(r):t===sc&&Wu("Unhandled promise rejection",n)},hc=function(t){Mu(qu,ku,(function(){var e,n=t.facade,r=t.value;if(vc(t)&&(e=$u((function(){Ru?ic.emit("unhandledRejection",r,n):pc(sc,n,r)})),t.rejection=Ru||vc(t)?2:1,e.error))throw e.value}))},vc=function(t){return 1!==t.rejection&&!t.parent},yc=function(t){Mu(qu,ku,(function(){var e=t.facade;Ru?ic.emit("rejectionHandled",e):pc("rejectionhandled",e,t.value)}))},gc=function(t,e,n){return function(r){t(e,r,n)}},mc=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,dc(t,!0))},bc=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw rc("Promise can't be resolved itself");var r=fc(e);r?_u((function(){var n={done:!1};try{Mu(r,e,gc(bc,n,t),gc(mc,n,t))}catch(e){mc(n,e,t)}})):(t.value=e,t.state=1,dc(t,!1))}catch(e){mc({done:!1},e,t)}}};if(Ku&&(nc=(ec=function(t){Gu(this,nc),Nu(t),Mu(Eu,this);var e=Qu(this);try{t(gc(bc,e),gc(mc,e))}catch(t){mc(e,t)}}).prototype,(Eu=function(t){Zu(this,{type:Vu,done:!1,notified:!1,parent:!1,reactions:new zu,rejection:!1,state:0,value:void 0})}).prototype=Au(nc,"then",(function(t,e){var n=Qu(this),r=ac(Fu(this,ec));return n.parent=!0,r.ok=!Bu(t)||t,r.fail=Bu(e)&&e,r.domain=Ru?ic.domain:void 0,0==n.state?n.reactions.add(r):_u((function(){lc(r,n)})),r.promise})),Tu=function(){var t=new Eu,e=Qu(t);this.promise=t,this.resolve=gc(bc,e),this.reject=gc(mc,e)},Hu.f=ac=function(t){return t===ec||undefined===t?new Tu(t):uc(t)},Bu(Uu)&&tc!==Object.prototype)){xu=tc.then,Xu||Au(tc,"then",(function(t,e){var n=this;return new ec((function(t,e){Mu(xu,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete tc.constructor}catch(t){}Iu&&Iu(tc,nc)}Pu({global:!0,constructor:!0,wrap:!0,forced:Ku},{Promise:ec}),Cu(ec,Vu,!1),Lu(Vu);var wc={},Sc=wc,Oc=ye("iterator"),jc=Array.prototype,Ec=function(t){return void 0!==t&&(Sc.Array===t||jc[Oc]===t)},Tc=zo,xc=Kt,Pc=g,Rc=wc,kc=ye("iterator"),Mc=function(t){if(!Pc(t))return xc(t,kc)||xc(t,"@@iterator")||Rc[Tc(t)]},Ac=mt,Ic=Ut,Cc=vt,Lc=Wt,Nc=Mc,Bc=TypeError,Dc=function(t,e){var n=arguments.length<2?Nc(t):e;if(Ic(n))return Cc(Ac(n,t));throw Bc(Lc(t)+" is not iterable")},Gc=mt,Fc=vt,qc=Kt,_c=function(t,e,n){var r,o;Fc(t);try{if(!(r=qc(t,"return"))){if("throw"===e)throw n;return n}r=Gc(r,t)}catch(t){o=!0,r=t}if("throw"===e)throw n;if(o)throw r;return Fc(r),n},Wc=Xi,$c=mt,zc=vt,Yc=Wt,Uc=Ec,Hc=kr,Vc=Ot,Kc=Dc,Jc=Mc,Xc=_c,Qc=TypeError,Zc=function(t,e){this.stopped=t,this.result=e},ts=Zc.prototype,es=function(t,e,n){var r,o,i,a,u,c,s,f=n&&n.that,l=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_RECORD),p=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),v=Wc(e,f),y=function(t){return r&&Xc(r,"normal",t),new Zc(!0,t)},g=function(t){return l?(zc(t),h?v(t[0],t[1],y):v(t[0],t[1])):h?v(t,y):v(t)};if(d)r=t.iterator;else if(p)r=t;else{if(!(o=Jc(t)))throw Qc(Yc(t)+" is not iterable");if(Uc(o)){for(i=0,a=Hc(t);a>i;i++)if((u=g(t[i]))&&Vc(ts,u))return u;return new Zc(!1)}r=Kc(t,o)}for(c=d?t.next:r.next;!(s=$c(c,r)).done;){try{u=g(s.value)}catch(t){Xc(r,"throw",t)}if("object"==typeof u&&u&&Vc(ts,u))return u}return new Zc(!1)},ns=ye("iterator"),rs=!1;try{var os=0,is={next:function(){return{done:!!os++}},return:function(){rs=!0}};is[ns]=function(){return this},Array.from(is,(function(){throw 2}))}catch(t){}var as=function(t,e){if(!e&&!rs)return!1;var n=!1;try{var r={};r[ns]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},us=ru,cs=bu.CONSTRUCTOR||!as((function(t){us.all(t).then(void 0,(function(){}))})),ss=mt,fs=Ut,ls=wu,ds=nu,ps=es;mo({target:"Promise",stat:!0,forced:cs},{all:function(t){var e=this,n=ls.f(e),r=n.resolve,o=n.reject,i=ds((function(){var n=fs(e.resolve),i=[],a=0,u=1;ps(t,(function(t){var c=a++,s=!1;u++,ss(n,e,t).then((function(t){s||(s=!0,i[c]=t,--u||r(i))}),o)})),--u||r(i)}));return i.error&&o(i.value),n.promise}});var hs=mo,vs=bu.CONSTRUCTOR,ys=ru,gs=St,ms=D,bs=vr,ws=ys&&ys.prototype;if(hs({target:"Promise",proto:!0,forced:vs,real:!0},{catch:function(t){return this.then(void 0,t)}}),ms(ys)){var Ss=gs("Promise").prototype.catch;ws.catch!==Ss&&bs(ws,"catch",Ss,{unsafe:!0})}var Os=mt,js=Ut,Es=wu,Ts=nu,xs=es;mo({target:"Promise",stat:!0,forced:cs},{race:function(t){var e=this,n=Es.f(e),r=n.reject,o=Ts((function(){var o=js(e.resolve);xs(t,(function(t){Os(o,e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}});var Ps=mt,Rs=wu;mo({target:"Promise",stat:!0,forced:bu.CONSTRUCTOR},{reject:function(t){var e=Rs.f(this);return Ps(e.reject,void 0,t),e.promise}});var ks=vt,Ms=rt,As=wu,Is=mo,Cs=bu.CONSTRUCTOR,Ls=function(t,e){if(ks(t),Ms(e)&&e.constructor===t)return e;var n=As.f(t);return(0,n.resolve)(e),n.promise};St("Promise"),Is({target:"Promise",stat:!0,forced:Cs},{resolve:function(t){return Ls(this,t)}});var Ns={},Bs=f,Ds=lt,Gs=ot,Fs=vt,qs=er,_s=So;Ns.f=Bs&&!Ds?Object.defineProperties:function(t,e){Fs(t);for(var n,r=qs(e),o=_s(e),i=o.length,a=0;i>a;)Gs.f(t,n=o[a++],r[n]);return t};var Ws,$s=vt,zs=Ns,Ys=_r,Us=Ve,Hs=Qi,Vs=ct,Ks="prototype",Js="script",Xs=He("IE_PROTO"),Qs=function(){},Zs=function(t){return"<"+Js+">"+t+"</"+Js+">"},tf=function(t){t.write(Zs("")),t.close();var e=t.parentWindow.Object;return t=null,e},ef=function(){try{Ws=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;ef="undefined"!=typeof document?document.domain&&Ws?tf(Ws):(e=Vs("iframe"),n="java"+Js+":",e.style.display="none",Hs.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(Zs("document.F=Object")),t.close(),t.F):tf(Ws);for(var r=Ys.length;r--;)delete ef[Ks][Ys[r]];return ef()};Us[Xs]=!0;var nf=Object.create||function(t,e){var n;return null!==t?(Qs[Ks]=$s(t),n=new Qs,Qs[Ks]=null,n[Xs]=t):n=ef(),void 0===e?n:zs.f(n,e)},rf=ye,of=nf,af=ot.f,uf=rf("unscopables"),cf=Array.prototype;null==cf[uf]&&af(cf,uf,{configurable:!0,value:of(null)});var sf,ff,lf,df=function(t){cf[uf][t]=!0},pf=!s((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),hf=x,vf=D,yf=j,gf=pf,mf=He("IE_PROTO"),bf=Object,wf=bf.prototype,Sf=gf?bf.getPrototypeOf:function(t){var e=yf(t);if(hf(e,mf))return e[mf];var n=e.constructor;return vf(n)&&e instanceof n?n.prototype:e instanceof bf?wf:null},Of=s,jf=D,Ef=rt,Tf=Sf,xf=vr,Pf=ye("iterator"),Rf=!1;[].keys&&("next"in(lf=[].keys())?(ff=Tf(Tf(lf)))!==Object.prototype&&(sf=ff):Rf=!0);var kf=!Ef(sf)||Of((function(){var t={};return sf[Pf].call(t)!==t}));kf&&(sf={}),jf(sf[Pf])||xf(sf,Pf,(function(){return this}));var Mf={IteratorPrototype:sf,BUGGY_SAFARI_ITERATORS:Rf},Af=Mf.IteratorPrototype,If=nf,Cf=_e,Lf=ai,Nf=wc,Bf=function(){return this},Df=mo,Gf=mt,Ff=D,qf=function(t,e,n,r){var o=e+" Iterator";return t.prototype=If(Af,{next:Cf(+!r,n)}),Lf(t,o,!1),Nf[o]=Bf,t},_f=Sf,Wf=ni,$f=ai,zf=ze,Yf=vr,Uf=wc,Hf=I.PROPER,Vf=I.CONFIGURABLE,Kf=Mf.IteratorPrototype,Jf=Mf.BUGGY_SAFARI_ITERATORS,Xf=ye("iterator"),Qf="keys",Zf="values",tl="entries",el=function(){return this},nl=function(t,e,n,r,o,i,a){qf(n,e,r);var u,c,s,f=function(t){if(t===o&&v)return v;if(!Jf&&t in p)return p[t];switch(t){case Qf:case Zf:case tl:return function(){return new n(this,t)}}return function(){return new n(this)}},l=e+" Iterator",d=!1,p=t.prototype,h=p[Xf]||p["@@iterator"]||o&&p[o],v=!Jf&&h||f(o),y="Array"==e&&p.entries||h;if(y&&(u=_f(y.call(new t)))!==Object.prototype&&u.next&&(_f(u)!==Kf&&(Wf?Wf(u,Kf):Ff(u[Xf])||Yf(u,Xf,el)),$f(u,l,!0)),Hf&&o==Zf&&h&&h.name!==Zf&&(Vf?zf(p,"name",Zf):(d=!0,v=function(){return Gf(h,this)})),o)if(c={values:f(Zf),keys:i?v:f(Qf),entries:f(tl)},a)for(s in c)(Jf||d||!(s in p))&&Yf(p,s,c[s]);else Df({target:e,proto:!0,forced:Jf||d},c);return p[Xf]!==v&&Yf(p,Xf,v,{name:o}),Uf[e]=v,c},rl=function(t,e){return{value:t,done:e}},ol=er,il=df,al=wc,ul=sn,cl=ot.f,sl=nl,fl=rl,ll=f,dl="Array Iterator",pl=ul.set,hl=ul.getterFor(dl),vl=sl(Array,"Array",(function(t,e){pl(this,{type:dl,target:ol(t),index:0,kind:e})}),(function(){var t=hl(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,fl(void 0,!0)):fl("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values"),yl=al.Arguments=al.Array;if(il("keys"),il("values"),il("entries"),ll&&"values"!==yl.name)try{cl(yl,"name",{value:"values"})}catch(t){}var gl=zo,ml=String,bl=function(t){if("Symbol"===gl(t))throw TypeError("Cannot convert a Symbol value to a string");return ml(t)},wl=y,Sl=wr,Ol=bl,jl=w,El=wl("".charAt),Tl=wl("".charCodeAt),xl=wl("".slice),Pl=function(t){return function(e,n){var r,o,i=Ol(jl(e)),a=Sl(n),u=i.length;return a<0||a>=u?t?"":void 0:(r=Tl(i,a))<55296||r>56319||a+1===u||(o=Tl(i,a+1))<56320||o>57343?t?El(i,a):r:t?xl(i,a,a+2):o-56320+(r-55296<<10)+65536}},Rl={codeAt:Pl(!1),charAt:Pl(!0)}.charAt,kl=bl,Ml=sn,Al=nl,Il=rl,Cl="String Iterator",Ll=Ml.set,Nl=Ml.getterFor(Cl);Al(String,"String",(function(t){Ll(this,{type:Cl,string:kl(t),index:0})}),(function(){var t,e=Nl(this),n=e.string,r=e.index;return r>=n.length?Il(void 0,!0):(t=Rl(n,r),e.index+=t.length,Il(t,!1))}));var Bl={exports:{}},Dl={},Gl=xe,Fl=ot,ql=_e,_l=function(t,e,n){var r=Gl(e);r in t?Fl.f(t,r,ql(0,n)):t[r]=n},Wl=Er,$l=kr,zl=_l,Yl=Array,Ul=Math.max,Hl=function(t,e,n){for(var r=$l(t),o=Wl(e,r),i=Wl(void 0===n?r:n,r),a=Yl(Ul(i-o,0)),u=0;o<i;o++,u++)zl(a,u,t[o]);return a.length=u,a},Vl=Hn,Kl=er,Jl=yr.f,Xl=Hl,Ql="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Dl.f=function(t){return Ql&&"Window"==Vl(t)?function(t){try{return Jl(t)}catch(t){return Xl(Ql)}}(t):Jl(Kl(t))};var Zl=s((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),td=s,ed=rt,nd=Hn,rd=Zl,od=Object.isExtensible,id=td((function(){od(1)}))||rd?function(t){return!!ed(t)&&((!rd||"ArrayBuffer"!=nd(t))&&(!od||od(t)))}:od,ad=!s((function(){return Object.isExtensible(Object.preventExtensions({}))})),ud=mo,cd=y,sd=Ve,fd=rt,ld=x,dd=ot.f,pd=yr,hd=Dl,vd=id,yd=ad,gd=!1,md=ue("meta"),bd=0,wd=function(t){dd(t,md,{value:{objectID:"O"+bd++,weakData:{}}})},Sd=Bl.exports={enable:function(){Sd.enable=function(){},gd=!0;var t=pd.f,e=cd([].splice),n={};n[md]=1,t(n).length&&(pd.f=function(n){for(var r=t(n),o=0,i=r.length;o<i;o++)if(r[o]===md){e(r,o,1);break}return r},ud({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:hd.f}))},fastKey:function(t,e){if(!fd(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!ld(t,md)){if(!vd(t))return"F";if(!e)return"E";wd(t)}return t[md].objectID},getWeakData:function(t,e){if(!ld(t,md)){if(!vd(t))return!0;if(!e)return!1;wd(t)}return t[md].weakData},onFreeze:function(t){return yd&&gd&&vd(t)&&!ld(t,md)&&wd(t),t}};sd[md]=!0;var Od=Bl.exports,jd=D,Ed=rt,Td=ni,xd=mo,Pd=F,Rd=y,kd=so,Md=vr,Ad=Od,Id=es,Cd=hi,Ld=D,Nd=g,Bd=rt,Dd=s,Gd=as,Fd=ai,qd=function(t,e,n){var r,o;return Td&&jd(r=e.constructor)&&r!==n&&Ed(o=r.prototype)&&o!==n.prototype&&Td(t,o),t},_d=function(t,e,n){var r=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),i=r?"set":"add",a=Pd[t],u=a&&a.prototype,c=a,s={},f=function(t){var e=Rd(u[t]);Md(u,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(o&&!Bd(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return o&&!Bd(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!Bd(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(kd(t,!Ld(a)||!(o||u.forEach&&!Dd((function(){(new a).entries().next()})))))c=n.getConstructor(e,t,r,i),Ad.enable();else if(kd(t,!0)){var l=new c,d=l[i](o?{}:-0,1)!=l,p=Dd((function(){l.has(1)})),h=Gd((function(t){new a(t)})),v=!o&&Dd((function(){for(var t=new a,e=5;e--;)t[i](e,e);return!t.has(-0)}));h||((c=e((function(t,e){Cd(t,u);var n=qd(new a,t,c);return Nd(e)||Id(e,n[i],{that:n,AS_ENTRIES:r}),n}))).prototype=u,u.constructor=c),(p||v)&&(f("delete"),f("has"),r&&f("get")),(v||d)&&f(i),o&&u.clear&&delete u.clear}return s[t]=c,xd({global:!0,constructor:!0,forced:c!=a},s),Fd(c,t),o||n.setStrong(c,t,r),c},Wd=vr,$d=function(t,e,n){for(var r in e)Wd(t,r,e[r],n);return t},zd=Hn,Yd=Array.isArray||function(t){return"Array"==zd(t)},Ud=Yd,Hd=Ii,Vd=rt,Kd=ye("species"),Jd=Array,Xd=function(t){var e;return Ud(t)&&(e=t.constructor,(Hd(e)&&(e===Jd||Ud(e.prototype))||Vd(e)&&null===(e=e[Kd]))&&(e=void 0)),void 0===e?Jd:e},Qd=function(t,e){return new(Xd(t))(0===e?0:e)},Zd=Xi,tp=Qn,ep=j,np=kr,rp=Qd,op=y([].push),ip=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,i=6==t,a=7==t,u=5==t||i;return function(c,s,f,l){for(var d,p,h=ep(c),v=tp(h),y=Zd(s,f),g=np(v),m=0,b=l||rp,w=e?b(c,g):n||a?b(c,0):void 0;g>m;m++)if((u||m in v)&&(p=y(d=v[m],m,h),t))if(e)w[m]=p;else if(p)switch(t){case 3:return!0;case 5:return d;case 6:return m;case 2:op(w,d)}else switch(t){case 4:return!1;case 7:op(w,d)}return i?-1:r||o?o:w}},ap={forEach:ip(0),map:ip(1),filter:ip(2),some:ip(3),every:ip(4),find:ip(5),findIndex:ip(6),filterReject:ip(7)},up=y,cp=$d,sp=Od.getWeakData,fp=hi,lp=vt,dp=g,pp=rt,hp=es,vp=x,yp=sn.set,gp=sn.getterFor,mp=ap.find,bp=ap.findIndex,wp=up([].splice),Sp=0,Op=function(t){return t.frozen||(t.frozen=new jp)},jp=function(){this.entries=[]},Ep=function(t,e){return mp(t.entries,(function(t){return t[0]===e}))};jp.prototype={get:function(t){var e=Ep(this,t);if(e)return e[1]},has:function(t){return!!Ep(this,t)},set:function(t,e){var n=Ep(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=bp(this.entries,(function(e){return e[0]===t}));return~e&&wp(this.entries,e,1),!!~e}};var Tp={getConstructor:function(t,e,n,r){var o=t((function(t,o){fp(t,i),yp(t,{type:e,id:Sp++,frozen:void 0}),dp(o)||hp(o,t[r],{that:t,AS_ENTRIES:n})})),i=o.prototype,a=gp(e),u=function(t,e,n){var r=a(t),o=sp(lp(e),!0);return!0===o?Op(r).set(e,n):o[r.id]=n,t};return cp(i,{delete:function(t){var e=a(this);if(!pp(t))return!1;var n=sp(t);return!0===n?Op(e).delete(t):n&&vp(n,e.id)&&delete n[e.id]},has:function(t){var e=a(this);if(!pp(t))return!1;var n=sp(t);return!0===n?Op(e).has(t):n&&vp(n,e.id)}}),cp(i,n?{get:function(t){var e=a(this);if(pp(t)){var n=sp(t);return!0===n?Op(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return u(this,t,e)}}:{add:function(t){return u(this,t,!0)}}),o}};_d("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Tp);var xp={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Pp=ct("span").classList,Rp=Pp&&Pp.constructor&&Pp.constructor.prototype,kp=Rp===Object.prototype?void 0:Rp,Mp=F,Ap=xp,Ip=kp,Cp=vl,Lp=ze,Np=ye,Bp=Np("iterator"),Dp=Np("toStringTag"),Gp=Cp.values,Fp=function(t,e){if(t){if(t[Bp]!==Gp)try{Lp(t,Bp,Gp)}catch(e){t[Bp]=Gp}if(t[Dp]||Lp(t,Dp,e),Ap[e])for(var n in Cp)if(t[n]!==Cp[n])try{Lp(t,n,Cp[n])}catch(e){t[n]=Cp[n]}}};for(var qp in Ap)Fp(Mp[qp]&&Mp[qp].prototype,qp);Fp(Ip,"DOMTokenList");var _p=s,Wp=Mt,$p=ye("species"),zp=function(t){return Wp>=51||!_p((function(){var e=[];return(e.constructor={})[$p]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Yp=mo,Up=Yd,Hp=Ii,Vp=rt,Kp=Er,Jp=kr,Xp=er,Qp=_l,Zp=ye,th=Zi,eh=zp("slice"),nh=Zp("species"),rh=Array,oh=Math.max;Yp({target:"Array",proto:!0,forced:!eh},{slice:function(t,e){var n,r,o,i=Xp(this),a=Jp(i),u=Kp(t,a),c=Kp(void 0===e?a:e,a);if(Up(i)&&(n=i.constructor,(Hp(n)&&(n===rh||Up(n.prototype))||Vp(n)&&null===(n=n[nh]))&&(n=void 0),n===rh||void 0===n))return th(i,u,c);for(r=new(void 0===n?rh:n)(oh(c-u,0)),o=0;u<c;u++,o++)u in i&&Qp(r,o,i[u]);return r.length=o,r}});var ih=s,ah=function(t,e){var n=[][t];return!!n&&ih((function(){n.call(null,e||function(){return 1},1)}))},uh=mo,ch=Qn,sh=er,fh=ah,lh=y([].join);function dh(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}uh({target:"Array",proto:!0,forced:ch!=Object||!fh("join",",")},{join:function(t){return lh(sh(this),void 0===t?",":t)}});var ph=j,hh=So;mo({target:"Object",stat:!0,forced:s((function(){hh(1)}))},{keys:function(t){return hh(ph(t))}});var vh,yh=rt,gh=Hn,mh=ye("match"),bh=function(t){var e;return yh(t)&&(void 0!==(e=t[mh])?!!e:"RegExp"==gh(t))},wh=TypeError,Sh=ye("match"),Oh=mo,jh=Hi,Eh=Fn.f,Th=Pr,xh=bl,Ph=function(t){if(bh(t))throw wh("The method doesn't accept regular expressions");return t},Rh=w,kh=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Sh]=!1,"/./"[t](e)}catch(t){}}return!1},Mh=jh("".startsWith),Ah=jh("".slice),Ih=Math.min,Ch=kh("startsWith");Oh({target:"String",proto:!0,forced:!!(Ch||(vh=Eh(String.prototype,"startsWith"),!vh||vh.writable))&&!Ch},{startsWith:function(t){var e=xh(Rh(this));Ph(t);var n=Th(Ih(arguments.length>1?arguments[1]:void 0,e.length)),r=xh(t);return Mh?Mh(e,r,n):Ah(e,n,n+r.length)===r}});var Lh=ap.forEach,Nh=ah("forEach")?[].forEach:function(t){return Lh(this,t,arguments.length>1?arguments[1]:void 0)},Bh=F,Dh=xp,Gh=kp,Fh=Nh,qh=ze,_h=function(t){if(t&&t.forEach!==Fh)try{qh(t,"forEach",Fh)}catch(e){t.forEach=Fh}};for(var Wh in Dh)Dh[Wh]&&_h(Bh[Wh]&&Bh[Wh].prototype);_h(Gh);var $h=f,zh=y,Yh=So,Uh=er,Hh=zh(qn.f),Vh=zh([].push),Kh=function(t){return function(e){for(var n,r=Uh(e),o=Yh(r),i=o.length,a=0,u=[];i>a;)n=o[a++],$h&&!Hh(r,n)||Vh(u,t?[n,r[n]]:r[n]);return u}},Jh={entries:Kh(!0),values:Kh(!1)}.entries;function Xh(t){return null!=t&&!Number.isNaN(t)}function Qh(t,n){return+Xh(n)-+Xh(t)||e.ascending(t,n)}function Zh(t){return isFinite(t)?t:NaN}function tv(t){return t>0&&isFinite(t)?t:NaN}function ev(t){return t<0&&isFinite(t)?t:NaN}mo({target:"Object",stat:!0},{entries:function(t){return Jh(t)}});const nv=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function rv(t,e){return nv.test(t+="")?new Date(t):"function"==typeof e?e(t):e}const ov=new Map([["second",e.timeSecond],["minute",e.timeMinute],["hour",e.timeHour],["day",e.timeDay],["week",e.timeWeek],["month",e.timeMonth],["quarter",e.timeMonth.every(3)],["half",e.timeMonth.every(6)],["year",e.timeYear],["monday",e.timeMonday],["tuesday",e.timeTuesday],["wednesday",e.timeWednesday],["thursday",e.timeThursday],["friday",e.timeFriday],["saturday",e.timeSaturday],["sunday",e.timeSunday]]),iv=new Map([["second",e.utcSecond],["minute",e.utcMinute],["hour",e.utcHour],["day",e.utcDay],["week",e.utcWeek],["month",e.utcMonth],["quarter",e.utcMonth.every(3)],["half",e.utcMonth.every(6)],["year",e.utcYear],["monday",e.utcMonday],["tuesday",e.utcTuesday],["wednesday",e.utcWednesday],["thursday",e.utcThursday],["friday",e.utcFriday],["saturday",e.utcSaturday],["sunday",e.utcSunday]]);function av(t){const e=ov.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown interval: ${t}`);return e}function uv(t){const e=iv.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown interval: ${t}`);return e}const cv=Object.getPrototypeOf(Uint8Array),sv=Object.prototype.toString,fv=t=>()=>t;function lv(t){return t instanceof cv?t:yv(t,dv,Float64Array)}function dv(t){return null==t?NaN:Number(t)}function pv(t){return yv(t,hv)}function hv(t){return t instanceof Date&&!isNaN(t)?t:"string"==typeof t?rv(t):null==t||isNaN(t=+t)?void 0:new Date(t)}function vv(t){return null==t||t instanceof Array||t instanceof cv?t:Array.from(t)}function yv(t,e,n=Array){return null==t?t:t instanceof n?t.map(e):n.from(t,e)}function gv(t,e=Array){return t instanceof e?t.slice():e.from(t)}function mv(t){return function(t){return t?.toString===sv}(t)&&(void 0!==t.type||void 0!==t.domain)}function bv(t,n){if(null!=t){if("number"==typeof t){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:t=>Math.floor(t*n)/n,offset:t=>(t*n+1)/n,range:(t,r)=>e.range(Math.ceil(t*n),r*n).map((t=>t/n))}:{floor:t=>Math.floor(t/n)*n,offset:t=>t+n,range:(t,r)=>e.range(Math.ceil(t/n),r/n).map((t=>t*n))}}if("string"==typeof t)return("time"===n?av:uv)(t);if("function"!=typeof t.floor)throw new Error("invalid interval; missing floor method");if("function"!=typeof t.offset)throw new Error("invalid interval; missing offset method");return t}}function wv(t,e){if((t=bv(t,e))&&"function"!=typeof t.range)throw new Error("invalid interval: missing range method");return t}function Sv(t){for(const e of t){if(null==e)continue;const t=typeof e;return"string"===t||"boolean"===t}}function Ov(t){for(const e of t)if(null!=e)return e instanceof Date}function jv(t){for(const e of t)if(null!=e)return"string"==typeof e&&isNaN(e)&&rv(e)}function Ev(t){for(const e of t)if(null!=e){if("string"!=typeof e)return!1;if(e.trim())return!isNaN(e)}}function Tv(t){if(null==t)return;const n=t[0],r=t[t.length-1];return e.descending(n,r)}const xv=Symbol("position"),Pv=Symbol("color"),Rv=Symbol("radius"),kv=Symbol("length"),Mv=Symbol("opacity"),Av=Symbol("symbol"),Iv=new Map([["x",xv],["y",xv],["fx",xv],["fy",xv],["r",Rv],["color",Pv],["opacity",Mv],["symbol",Av],["length",kv]]),Cv=2/Math.sqrt(3),Lv={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*Cv,o=r/2;t.moveTo(0,r),t.lineTo(n,o),t.lineTo(n,-o),t.lineTo(0,-r),t.lineTo(-n,-o),t.lineTo(-n,o),t.closePath()}},Nv=new Map([["asterisk",e.symbolAsterisk],["circle",e.symbolCircle],["cross",e.symbolCross],["diamond",e.symbolDiamond],["diamond2",e.symbolDiamond2],["hexagon",Lv],["plus",e.symbolPlus],["square",e.symbolSquare],["square2",e.symbolSquare2],["star",e.symbolStar],["times",e.symbolTimes],["triangle",e.symbolTriangle],["triangle2",e.symbolTriangle2],["wye",e.symbolWye]]);function Bv(t){if(null==t||function(t){return t&&"function"==typeof t.draw}(t))return t;const e=Nv.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function Dv(t){console.warn(t)}const Gv=new Map([["accent",e.schemeAccent],["category10",e.schemeCategory10],["dark2",e.schemeDark2],["paired",e.schemePaired],["pastel1",e.schemePastel1],["pastel2",e.schemePastel2],["set1",e.schemeSet1],["set2",e.schemeSet2],["set3",e.schemeSet3],["tableau10",e.schemeTableau10],["brbg",qv(e.schemeBrBG,e.interpolateBrBG)],["prgn",qv(e.schemePRGn,e.interpolatePRGn)],["piyg",qv(e.schemePiYG,e.interpolatePiYG)],["puor",qv(e.schemePuOr,e.interpolatePuOr)],["rdbu",qv(e.schemeRdBu,e.interpolateRdBu)],["rdgy",qv(e.schemeRdGy,e.interpolateRdGy)],["rdylbu",qv(e.schemeRdYlBu,e.interpolateRdYlBu)],["rdylgn",qv(e.schemeRdYlGn,e.interpolateRdYlGn)],["spectral",qv(e.schemeSpectral,e.interpolateSpectral)],["burd",_v(e.schemeRdBu,e.interpolateRdBu)],["buylrd",_v(e.schemeRdYlBu,e.interpolateRdYlBu)],["blues",Fv(e.schemeBlues,e.interpolateBlues)],["greens",Fv(e.schemeGreens,e.interpolateGreens)],["greys",Fv(e.schemeGreys,e.interpolateGreys)],["oranges",Fv(e.schemeOranges,e.interpolateOranges)],["purples",Fv(e.schemePurples,e.interpolatePurples)],["reds",Fv(e.schemeReds,e.interpolateReds)],["turbo",Wv(e.interpolateTurbo)],["viridis",Wv(e.interpolateViridis)],["magma",Wv(e.interpolateMagma)],["inferno",Wv(e.interpolateInferno)],["plasma",Wv(e.interpolatePlasma)],["cividis",Wv(e.interpolateCividis)],["cubehelix",Wv(e.interpolateCubehelixDefault)],["warm",Wv(e.interpolateWarm)],["cool",Wv(e.interpolateCool)],["bugn",Fv(e.schemeBuGn,e.interpolateBuGn)],["bupu",Fv(e.schemeBuPu,e.interpolateBuPu)],["gnbu",Fv(e.schemeGnBu,e.interpolateGnBu)],["orrd",Fv(e.schemeOrRd,e.interpolateOrRd)],["pubu",Fv(e.schemePuBu,e.interpolatePuBu)],["pubugn",Fv(e.schemePuBuGn,e.interpolatePuBuGn)],["purd",Fv(e.schemePuRd,e.interpolatePuRd)],["rdpu",Fv(e.schemeRdPu,e.interpolateRdPu)],["ylgn",Fv(e.schemeYlGn,e.interpolateYlGn)],["ylgnbu",Fv(e.schemeYlGnBu,e.interpolateYlGnBu)],["ylorbr",Fv(e.schemeYlOrBr,e.interpolateYlOrBr)],["ylorrd",Fv(e.schemeYlOrRd,e.interpolateYlOrRd)],["rainbow",$v(e.interpolateRainbow)],["sinebow",$v(e.interpolateSinebow)]]);function Fv(t,n){return({length:r})=>1===r?[t[3][1]]:2===r?[t[3][1],t[3][2]]:(r=Math.max(3,Math.floor(r)))>9?e.quantize(n,r):t[r]}function qv(t,n){return({length:r})=>2===r?[t[3][0],t[3][2]]:(r=Math.max(3,Math.floor(r)))>11?e.quantize(n,r):t[r]}function _v(t,n){return({length:r})=>2===r?[t[3][2],t[3][0]]:(r=Math.max(3,Math.floor(r)))>11?e.quantize((t=>n(1-t)),r):t[r].slice().reverse()}function Wv(t){return({length:n})=>e.quantize(t,Math.max(2,Math.floor(n)))}function $v(t){return({length:n})=>e.quantize(t,Math.floor(n)+1).slice(0,-1)}function zv(t){const e=`${t}`.toLowerCase();if(!Gv.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return Gv.get(e)}function Yv(t,e){const n=zv(t),r="function"==typeof n?n({length:e}):n;return r.length!==e?r.slice(0,e):r}const Uv=new Map([["brbg",e.interpolateBrBG],["prgn",e.interpolatePRGn],["piyg",e.interpolatePiYG],["puor",e.interpolatePuOr],["rdbu",e.interpolateRdBu],["rdgy",e.interpolateRdGy],["rdylbu",e.interpolateRdYlBu],["rdylgn",e.interpolateRdYlGn],["spectral",e.interpolateSpectral],["burd",t=>e.interpolateRdBu(1-t)],["buylrd",t=>e.interpolateRdYlBu(1-t)],["blues",e.interpolateBlues],["greens",e.interpolateGreens],["greys",e.interpolateGreys],["purples",e.interpolatePurples],["reds",e.interpolateReds],["oranges",e.interpolateOranges],["turbo",e.interpolateTurbo],["viridis",e.interpolateViridis],["magma",e.interpolateMagma],["inferno",e.interpolateInferno],["plasma",e.interpolatePlasma],["cividis",e.interpolateCividis],["cubehelix",e.interpolateCubehelixDefault],["warm",e.interpolateWarm],["cool",e.interpolateCool],["bugn",e.interpolateBuGn],["bupu",e.interpolateBuPu],["gnbu",e.interpolateGnBu],["orrd",e.interpolateOrRd],["pubugn",e.interpolatePuBuGn],["pubu",e.interpolatePuBu],["purd",e.interpolatePuRd],["rdpu",e.interpolateRdPu],["ylgnbu",e.interpolateYlGnBu],["ylgn",e.interpolateYlGn],["ylorbr",e.interpolateYlOrBr],["ylorrd",e.interpolateYlOrRd],["rainbow",e.interpolateRainbow],["sinebow",e.interpolateSinebow]]);function Hv(t){const e=`${t}`.toLowerCase();if(!Uv.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return Uv.get(e)}const Vv=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function Kv(t){return null!=t&&Vv.has(`${t}`.toLowerCase())}const Jv=t=>e=>t(1-e),Xv=[0,1],Qv=new Map([["number",e.interpolateNumber],["rgb",e.interpolateRgb],["hsl",e.interpolateHsl],["hcl",e.interpolateHcl],["lab",e.interpolateLab]]);function Zv(t){const e=`${t}`.toLowerCase();if(!Qv.has(e))throw new Error(`unknown interpolator: ${e}`);return Qv.get(e)}function ty(t,n,r,{type:o,nice:i,clamp:a,zero:u,domain:c=oy(t,r),unknown:s,round:f,scheme:l,interval:d,range:p=(Iv.get(t)===Rv?ay(r,c):Iv.get(t)===kv?uy(r,c):Iv.get(t)===Mv?Xv:void 0),interpolate:h=(Iv.get(t)===Pv?null==l&&void 0!==p?e.interpolateRgb:Hv(void 0!==l?l:"cyclical"===o?"rainbow":"turbo"):f?e.interpolateRound:e.interpolateNumber),reverse:v}){if(d=wv(d,o),"cyclical"!==o&&"sequential"!==o||(o="linear"),v=!!v,"function"!=typeof h&&(h=Zv(h)),1===h.length?(v&&(h=Jv(h),v=!1),void 0===p&&2===(p=Float64Array.from(c,((t,e)=>e/(c.length-1)))).length&&(p=Xv),n.interpolate((p===Xv?fv:fy)(h))):n.interpolate(h),u){const[t,n]=e.extent(c);(t>0||n<0)&&(Tv(c=gv(c))!==Math.sign(t)?c[c.length-1]=0:c[0]=0)}return v&&(c=e.reverse(c)),n.domain(c).unknown(s),i&&(n.nice(function(t,e){return!0===t?void 0:"number"==typeof t?t:function(t,e){if((t=wv(t,e))&&"function"!=typeof t.ceil)throw new Error("invalid interval: missing ceil method");return t}(t,e)}(i,o)),c=n.domain()),void 0!==p&&n.range(p),a&&n.clamp(a),{type:o,domain:c,range:p,scale:n,interpolate:h,interval:d}}function ey(t,n,{exponent:r=1,...o}){return ty(t,e.scalePow().exponent(r),n,{...o,type:"pow"})}function ny(t,n,{domain:r=[0],unknown:o,scheme:i="rdylbu",interpolate:a,range:u=(void 0!==a?e.quantize(a,r.length+1):Iv.get(t)===Pv?Yv(i,r.length+1):void 0),reverse:c}){const s=Tv(r=vv(r));if(!isNaN(s)&&!function(t,n){for(let r=1,o=t.length,i=t[0];r<o;++r){const o=e.descending(i,i=t[r]);if(0!==o&&o!==n)return!1}return!0}(r,s))throw new Error(`the ${t} scale has a non-monotonic domain`);return c&&(u=e.reverse(u)),{type:"threshold",scale:e.scaleThreshold(s<0?e.reverse(r):r,void 0===u?[]:u).unknown(o),domain:r,range:u}}function ry(t,n=Zh){return t.length?[e.min(t,(({value:t})=>void 0===t?t:e.min(t,n))),e.max(t,(({value:t})=>void 0===t?t:e.max(t,n)))]:[0,1]}function oy(t,e){const n=Iv.get(t);return(n===Rv||n===Mv||n===kv?iy:ry)(e)}function iy(t){return[0,t.length?e.max(t,(({value:t})=>void 0===t?t:e.max(t,Zh))):1]}function ay(t,n){const r=t.find((({radius:t})=>void 0!==t));if(void 0!==r)return[0,r.radius];const o=e.quantile(t,.5,(({value:t})=>void 0===t?NaN:e.quantile(t,.25,tv))),i=n.map((t=>3*Math.sqrt(t/o))),a=30/e.max(i);return a<1?i.map((t=>t*a)):i}function uy(t,n){const r=e.median(t,(({value:t})=>void 0===t?NaN:e.median(t,Math.abs))),o=n.map((t=>12*t/r)),i=60/e.max(o);return i<1?o.map((t=>t*i)):o}function cy(t){for(const{value:e}of t)if(void 0!==e)for(let n of e){if(n>0)return ry(t,tv);if(n<0)return ry(t,ev)}return[1,10]}function sy(t){const e=[];for(const{value:n}of t)if(void 0!==n)for(const t of n)e.push(t);return e}function fy(t){return(e,n)=>r=>t(e+r*(n-e))}function ly(t,n,r,o,{type:i,nice:a,clamp:u,domain:c=ry(o),unknown:s,pivot:f=0,scheme:l,range:d,symmetric:p=!0,interpolate:h=(Iv.get(t)===Pv?null==l&&void 0!==d?e.interpolateRgb:Hv(void 0!==l?l:"rdbu"):e.interpolateNumber),reverse:v}){f=+f;let[y,g]=c;if(e.descending(y,g)<0&&([y,g]=[g,y],v=!v),y=Math.min(y,f),g=Math.max(g,f),"function"!=typeof h&&(h=Zv(h)),void 0!==d&&(h=1===h.length?fy(h)(...d):e.piecewise(h,d)),v&&(h=Jv(h)),p){const t=r.apply(f),e=t-r.apply(y),n=r.apply(g)-t;e<n?y=r.invert(t-n):e>n&&(g=r.invert(t+e))}return n.domain([y,f,g]).unknown(s).interpolator(h),u&&n.clamp(u),a&&n.nice(a),{type:i,domain:[y,g],pivot:f,interpolate:h,scale:n}}function dy(t,n,{exponent:r=1,...o}){return ly(t,e.scaleDivergingPow().exponent(r=+r),function(t){return.5===t?yy:{apply:e=>Math.sign(e)*Math.pow(Math.abs(e),t),invert:e=>Math.sign(e)*Math.pow(Math.abs(e),1/t)}}(r),n,{...o,type:"diverging-pow"})}function py(t,n,{constant:r=1,...o}){return ly(t,e.scaleDivergingSymlog().constant(r=+r),function(t){return{apply:e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),invert:e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}}(r),n,o)}const hy={apply:t=>t,invert:t=>t},vy={apply:Math.log,invert:Math.exp},yy={apply:t=>Math.sign(t)*Math.sqrt(Math.abs(t)),invert:t=>Math.sign(t)*(t*t)};function gy(t,e,n,r){return ty(t,e,n,r)}const my=Symbol("ordinal");function by(t,n,r,{type:o,interval:i,domain:a,range:u,reverse:c,hint:s}){return i=wv(i,o),void 0===a&&(a=Oy(r,i,t)),"categorical"!==o&&o!==my||(o="ordinal"),c&&(a=e.reverse(a)),n.domain(a),void 0!==u&&("function"==typeof u&&(u=u(a)),n.range(u)),{type:o,domain:a,range:u,scale:n,hint:s,interval:i}}function wy(t,n,{type:r,interval:o,domain:i,range:a,scheme:u,unknown:c,...s}){let f;if(o=wv(o,r),void 0===i&&(i=Oy(n,o,t)),Iv.get(t)===Av)f=function(t){return{fill:jy(t,"fill"),stroke:jy(t,"stroke")}}(n),a=void 0===a?function(t){return n=t.fill,null==n||function(t){return/^\s*none\s*$/i.test(t)}(n)?e.symbolsStroke:e.symbolsFill;var n}(f):yv(a,Bv);else if(Iv.get(t)===Pv&&(void 0!==a||"ordinal"!==r&&r!==my||(a=function(t,e="greys"){const n=new Set,[r,o]=Yv(e,2);for(const e of t)if(null!=e)if(!0===e)n.add(o);else{if(!1!==e)return;n.add(r)}return[...n]}(i,u),void 0!==a&&(u=void 0)),void 0===u&&void 0===a&&(u="ordinal"===r?"turbo":"tableau10"),void 0!==u))if(void 0!==a){const t=Hv(u),n=a[0],r=a[1]-a[0];a=({length:o})=>e.quantize((e=>t(n+r*e)),o)}else a=zv(u);if(c===e.scaleImplicit)throw new Error(`implicit unknown on ${t} scale is not supported`);return by(t,e.scaleOrdinal().unknown(c),n,{...s,type:r,domain:i,range:a,hint:f})}function Sy(t,e,n,r){let{round:o}=n;return void 0!==o&&t.round(o=!!o),(t=by(r,t,e,n)).round=o,t}function Oy(t,n,r){const o=new e.InternSet;for(const{value:e,domain:n}of t){if(void 0!==n)return n();if(void 0!==e)for(const t of e)o.add(t)}if(void 0!==n){const[t,r]=e.extent(o).map(n.floor,n);return n.range(t,n.offset(r))}if(o.size>1e4&&Iv.get(r)===xv)throw new Error(`implicit ordinal domain of ${r} scale has more than 10,000 values`);return e.sort(o,Qh)}function jy(t,e){let n;for(const{hint:r}of t){const t=r?.[e];if(void 0!==t)if(void 0===n)n=t;else if(n!==t)return}return n}function Ey(t,n,r){return function(t,n=[],r={}){const o=function(t,e,{type:n,domain:r,range:o,scheme:i,pivot:a,projection:u}){if("fx"===t||"fy"===t)return"band";"x"!==t&&"y"!==t||null==u||(n=xy);for(const{type:t}of e)if(void 0!==t)if(void 0===n)n=t;else if(n!==t)throw new Error(`scale incompatible with channel: ${n} !== ${t}`);if(n===xy)return;if(void 0!==n)return n;if(void 0===r&&!e.some((({value:t})=>void 0!==t)))return;const c=Iv.get(t);if(c===Rv)return"sqrt";if(c===Mv||c===kv)return"linear";if(c===Av)return"ordinal";if((r||o||[]).length>2)return Py(c);if(void 0!==r)return Sv(r)?Py(c):Ov(r)?"utc":c!==Pv||null==a&&!Kv(i)?"linear":"diverging";const s=e.map((({value:t})=>t)).filter((t=>void 0!==t));return s.some(Sv)?Py(c):s.some(Ov)?"utc":c!==Pv||null==a&&!Kv(i)?"linear":"diverging"}(t,n,r);if(void 0===r.type&&void 0===r.domain&&void 0===r.range&&null==r.interval&&"fx"!==t&&"fy"!==t&&function({type:t}){return"ordinal"===t||"point"===t||"band"===t||t===my}({type:o})){const e=n.map((({value:t})=>t)).filter((t=>void 0!==t));e.some(Ov)?Dv(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Ty(o)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${Ty(o)}".`):e.some(jv)?Dv(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Ty(o)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${Ty(o)}".`):e.some(Ev)&&Dv(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Ty(o)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${Ty(o)}".`)}switch(r.type=o,o){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":r=Ry(n,r,lv);break;case"identity":switch(Iv.get(t)){case xv:r=Ry(n,r,lv);break;case Av:r=Ry(n,r,ky)}break;case"utc":case"time":r=Ry(n,r,pv)}switch(o){case"diverging":return function(t,n,r){return ly(t,e.scaleDiverging(),hy,n,r)}(t,n,r);case"diverging-sqrt":return function(t,e,n){return dy(t,e,{...n,exponent:.5})}(t,n,r);case"diverging-pow":return dy(t,n,r);case"diverging-log":return function(t,n,{base:r=10,pivot:o=1,domain:i=ry(n,o<0?ev:tv),...a}){return ly(t,e.scaleDivergingLog().base(r=+r),vy,n,{domain:i,pivot:o,...a})}(t,n,r);case"diverging-symlog":return py(t,n,r);case"categorical":case"ordinal":case my:return wy(t,n,r);case"cyclical":case"sequential":case"linear":return function(t,n,r){return ty(t,e.scaleLinear(),n,r)}(t,n,r);case"sqrt":return function(t,e,n){return ey(t,e,{...n,exponent:.5})}(t,n,r);case"threshold":return ny(t,0,r);case"quantile":return function(t,n,{range:r,quantiles:o=(void 0===r?5:(r=[...r]).length),n:i=o,scheme:a="rdylbu",domain:u=sy(n),unknown:c,interpolate:s,reverse:f}){return void 0===r&&(r=void 0!==s?e.quantize(s,i):Iv.get(t)===Pv?Yv(a,i):void 0),u.length>0&&(u=e.scaleQuantile(u,void 0===r?{length:i}:r).quantiles()),ny(t,0,{domain:u,range:r,reverse:f,unknown:c})}(t,n,r);case"quantize":return function(t,n,{range:r,n:o=(void 0===r?5:(r=[...r]).length),scheme:i="rdylbu",domain:a=oy(t,n),unknown:u,interpolate:c,reverse:s}){const[f,l]=e.extent(a);let d;return void 0===r?(d=e.ticks(f,l,o),d[0]<=f&&d.splice(0,1),d[d.length-1]>=l&&d.pop(),o=d.length+1,r=void 0!==c?e.quantize(c,o):Iv.get(t)===Pv?Yv(i,o):void 0):(d=e.quantize(e.interpolateNumber(f,l),o+1).slice(1,-1),f instanceof Date&&(d=d.map((t=>new Date(t))))),Tv(vv(a))<0&&d.reverse(),ny(t,0,{domain:d,range:r,reverse:s,unknown:u})}(t,n,r);case"pow":return ey(t,n,r);case"log":return function(t,n,{base:r=10,domain:o=cy(n),...i}){return ty(t,e.scaleLog().base(r),n,{...i,domain:o})}(t,n,r);case"symlog":return function(t,n,{constant:r=1,...o}){return ty(t,e.scaleSymlog().constant(r),n,o)}(t,n,r);case"utc":return function(t,n,r){return gy(t,e.scaleUtc(),n,r)}(t,n,r);case"time":return function(t,n,r){return gy(t,e.scaleTime(),n,r)}(t,n,r);case"point":return function(t,n,{align:r=.5,padding:o=.5,...i}){return Sy(e.scalePoint().align(r).padding(o),n,i,t)}(t,n,r);case"band":return function(t,n,{align:r=.5,padding:o=.1,paddingInner:i=o,paddingOuter:a=("fx"===t||"fy"===t?0:o),...u}){return Sy(e.scaleBand().align(r).paddingInner(i).paddingOuter(a),n,u,t)}(t,n,r);case"identity":return Iv.get(t)===xv?{type:"identity",scale:e.scaleIdentity()}:{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${o}`)}}(t,void 0===r?void 0:[{hint:r}],{...n})}function Ty(t){return"symbol"==typeof t?t.description:t}const xy={toString:()=>"projection"};function Py(t){switch(t){case xv:return"point";case Pv:return my;default:return"ordinal"}}function Ry(t,{domain:e,...n},r){for(const e of t)void 0!==e.value&&(e.value=r(e.value));return{domain:void 0===e?e:r(e),...n}}function ky(t){return yv(t,Bv)}function My({scale:t,type:e,domain:n,range:r,interpolate:o,interval:i,transform:a,percent:u,pivot:c}){if("identity"===e)return{type:"identity",apply:t=>t,invert:t=>t};const s=t.unknown?t.unknown():void 0;return{type:e,domain:gv(n),...void 0!==r&&{range:gv(r)},...void 0!==a&&{transform:a},...u&&{percent:u},...void 0!==s&&{unknown:s},...void 0!==i&&{interval:i},...void 0!==o&&{interpolate:o},...t.clamp&&{clamp:t.clamp()},...void 0!==c&&{pivot:c,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:e=>t(e),...t.invert&&{invert:e=>t.invert(e)}}}var Ay,Iy;!function(t){t[t.SCROLL_NONE=0]="SCROLL_NONE",t[t.SCROLL_BACKWARD=1]="SCROLL_BACKWARD",t[t.SCROLL_FORWARD=2]="SCROLL_FORWARD"}(Ay||(Ay={})),function(t){t[t.TOP=0]="TOP",t[t.RIGHT=1]="RIGHT",t[t.BOTTOM=2]="BOTTOM",t[t.LEFT=3]="LEFT"}(Iy||(Iy={}));var Cy="red";function Ly(t){try{var e=Object.keys(t)[0];return function(t={}){let e;for(const n in t)if(Iv.has(n)&&mv(t[n])){if(void 0!==e)throw new Error("ambiguous scale definition; multiple scales found");e=My(Ey(n,t[n]))}if(void 0===e)throw new Error("invalid scale definition; no scale found");return e}((n={},r=e,o=Object.assign(Object.assign({},t[e]),{clamp:!0}),(r=u(r))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n))}catch(t){return null}var n,r,o}function Ny(t,e,n,o){Object.entries(function(t,e){var n={};return e.hasOwnProperty("opacity")?(n.fill=function(){return e.opacity.baseColor||Cy},n["fill-opacity"]=function(e){return null==t?void 0:t.apply(e)}):n.fill=function(e){return"string"==typeof e&&(null==e?void 0:e.startsWith("#"))?e:null==t?void 0:t.apply(e)},n}(e,n)).forEach((function(e){var n=r(e,2),i=n[0],a=n[1];return t.style(i,(function(t){return a(o?t[o]:t)}))}))}var By=TypeError,Dy=mo,Gy=s,Fy=Yd,qy=rt,_y=j,Wy=kr,$y=function(t){if(t>9007199254740991)throw By("Maximum allowed index exceeded");return t},zy=_l,Yy=Qd,Uy=zp,Hy=Mt,Vy=ye("isConcatSpreadable"),Ky=Hy>=51||!Gy((function(){var t=[];return t[Vy]=!1,t.concat()[0]!==t})),Jy=function(t){if(!qy(t))return!1;var e=t[Vy];return void 0!==e?!!e:Fy(t)};Dy({target:"Array",proto:!0,arity:1,forced:!Ky||!Uy("concat")},{concat:function(t){var e,n,r,o,i,a=_y(this),u=Yy(a,0),c=0;for(e=-1,r=arguments.length;e<r;e++)if(Jy(i=-1===e?a:arguments[e]))for(o=Wy(i),$y(c+o),n=0;n<o;n++,c++)n in i&&zy(u,c,i[n]);else $y(c+1),zy(u,c++,i);return u.length=c,u}});var Xy=mt,Qy=Ut,Zy=wu,tg=nu,eg=es;mo({target:"Promise",stat:!0,forced:cs},{allSettled:function(t){var e=this,n=Zy.f(e),r=n.resolve,o=n.reject,i=tg((function(){var n=Qy(e.resolve),o=[],i=0,a=1;eg(t,(function(t){var u=i++,c=!1;a++,Xy(n,e,t).then((function(t){c||(c=!0,o[u]={status:"fulfilled",value:t},--a||r(o))}),(function(t){c||(c=!0,o[u]={status:"rejected",reason:t},--a||r(o))}))})),--a||r(o)}));return i.error&&o(i.value),n.promise}});var ng=nf,rg=Mn,og=$d,ig=Xi,ag=hi,ug=g,cg=es,sg=nl,fg=rl,lg=li,dg=f,pg=Od.fastKey,hg=sn.set,vg=sn.getterFor,yg={getConstructor:function(t,e,n,r){var o=t((function(t,o){ag(t,i),hg(t,{type:e,index:ng(null),first:void 0,last:void 0,size:0}),dg||(t.size=0),ug(o)||cg(o,t[r],{that:t,AS_ENTRIES:n})})),i=o.prototype,a=vg(e),u=function(t,e,n){var r,o,i=a(t),u=c(t,e);return u?u.value=n:(i.last=u={index:o=pg(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=u),r&&(r.next=u),dg?i.size++:t.size++,"F"!==o&&(i.index[o]=u)),t},c=function(t,e){var n,r=a(t),o=pg(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return og(i,{clear:function(){for(var t=a(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,dg?t.size=0:this.size=0},delete:function(t){var e=this,n=a(e),r=c(e,t);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first==r&&(n.first=o),n.last==r&&(n.last=i),dg?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=a(this),r=ig(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!c(this,t)}}),og(i,n?{get:function(t){var e=c(this,t);return e&&e.value},set:function(t,e){return u(this,0===t?0:t,e)}}:{add:function(t){return u(this,t=0===t?0:t,t)}}),dg&&rg(i,"size",{configurable:!0,get:function(){return a(this).size}}),o},setStrong:function(t,e,n){var r=e+" Iterator",o=vg(e),i=vg(r);sg(t,e,(function(t,e){hg(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?fg("keys"==e?n.key:"values"==e?n.value:[n.key,n.value],!1):(t.target=void 0,fg(void 0,!0))}),n?"entries":"values",!n,!0),lg(e)}};_d("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),yg);var gg=Wt,mg=TypeError,bg=Hl,wg=Math.floor,Sg=function(t,e){var n=t.length,r=wg(n/2);return n<8?Og(t,e):jg(t,Sg(bg(t,0,r),e),Sg(bg(t,r),e),e)},Og=function(t,e){for(var n,r,o=t.length,i=1;i<o;){for(r=i,n=t[i];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==i++&&(t[r]=n)}return t},jg=function(t,e,n,r){for(var o=e.length,i=n.length,a=0,u=0;a<o||u<i;)t[a+u]=a<o&&u<i?r(e[a],n[u])<=0?e[a++]:n[u++]:a<o?e[a++]:n[u++];return t},Eg=Sg,Tg=jt.match(/firefox\/(\d+)/i),xg=!!Tg&&+Tg[1],Pg=/MSIE|Trident/.test(jt),Rg=jt.match(/AppleWebKit\/(\d+)\./),kg=!!Rg&&+Rg[1],Mg=mo,Ag=y,Ig=Ut,Cg=j,Lg=kr,Ng=function(t,e){if(!delete t[e])throw mg("Cannot delete property "+gg(e)+" of "+gg(t))},Bg=bl,Dg=s,Gg=Eg,Fg=ah,qg=xg,_g=Pg,Wg=Mt,$g=kg,zg=[],Yg=Ag(zg.sort),Ug=Ag(zg.push),Hg=Dg((function(){zg.sort(void 0)})),Vg=Dg((function(){zg.sort(null)})),Kg=Fg("sort"),Jg=!Dg((function(){if(Wg)return Wg<70;if(!(qg&&qg>3)){if(_g)return!0;if($g)return $g<603;var t,e,n,r,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)zg.push({k:e+r,v:n})}for(zg.sort((function(t,e){return e.v-t.v})),r=0;r<zg.length;r++)e=zg[r].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));Mg({target:"Array",proto:!0,forced:Hg||!Vg||!Kg||!Jg},{sort:function(t){void 0!==t&&Ig(t);var e=Cg(this);if(Jg)return void 0===t?Yg(e):Yg(e,t);var n,r,o=[],i=Lg(e);for(r=0;r<i;r++)r in e&&Ug(o,e[r]);for(Gg(o,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:Bg(e)>Bg(n)?1:-1}}(t)),n=Lg(o),r=0;r<n;)e[r]=o[r++];for(;r<i;)Ng(e,r++);return e}}),new WeakSet,new WeakSet;var Xg=Lr.includes,Qg=df;mo({target:"Array",proto:!0,forced:s((function(){return!Array(1).includes()}))},{includes:function(t){return Xg(this,t,arguments.length>1?arguments[1]:void 0)}}),Qg("includes");var Zg=ap.map;mo({target:"Array",proto:!0,forced:!zp("map")},{map:function(t){return Zg(this,t,arguments.length>1?arguments[1]:void 0)}});var tm=ap.filter;mo({target:"Array",proto:!0,forced:!zp("filter")},{filter:function(t){return tm(this,t,arguments.length>1?arguments[1]:void 0)}});var em=Ut,nm=j,rm=Qn,om=kr,im=TypeError,am=function(t){return function(e,n,r,o){em(n);var i=nm(e),a=rm(i),u=om(i),c=t?u-1:0,s=t?-1:1;if(r<2)for(;;){if(c in a){o=a[c],c+=s;break}if(c+=s,t?c<0:u<=c)throw im("Reduce of empty array with no initial value")}for(;t?c>=0:u>c;c+=s)c in a&&(o=n(o,a[c],c,i));return o}},um={left:am(!1),right:am(!0)}.left;mo({target:"Array",proto:!0,forced:!Ho&&Mt>79&&Mt<83||!ah("reduce")},{reduce:function(t){var e=arguments.length;return um(this,t,e,e>1?arguments[1]:void 0)}});var cm=vt,sm=_c,fm=Xi,lm=mt,dm=j,pm=function(t,e,n,r){try{return r?e(cm(n)[0],n[1]):e(n)}catch(e){sm(t,"throw",e)}},hm=Ec,vm=Ii,ym=kr,gm=_l,mm=Dc,bm=Mc,wm=Array,Sm=function(t){var e=dm(t),n=vm(this),r=arguments.length,o=r>1?arguments[1]:void 0,i=void 0!==o;i&&(o=fm(o,r>2?arguments[2]:void 0));var a,u,c,s,f,l,d=bm(e),p=0;if(!d||this===wm&&hm(d))for(a=ym(e),u=n?new this(a):wm(a);a>p;p++)l=i?o(e[p],p):e[p],gm(u,p,l);else for(f=(s=mm(e,d)).next,u=n?new this:[];!(c=lm(f,s)).done;p++)l=i?pm(s,o,[c.value,p],!0):c.value,gm(u,p,l);return u.length=p,u};mo({target:"Array",stat:!0,forced:!as((function(t){Array.from(t)}))},{from:Sm});var Om="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",jm=w,Em=bl,Tm=Om,xm=y("".replace),Pm=RegExp("^["+Tm+"]+"),Rm=RegExp("(^|[^"+Tm+"])["+Tm+"]+$"),km=function(t){return function(e){var n=Em(jm(e));return 1&t&&(n=xm(n,Pm,"")),2&t&&(n=xm(n,Rm,"$1")),n}},Mm={start:km(1),end:km(2),trim:km(3)},Am=F,Im=s,Cm=y,Lm=bl,Nm=Mm.trim,Bm=Om,Dm=Am.parseInt,Gm=Am.Symbol,Fm=Gm&&Gm.iterator,qm=/^[+-]?0x/i,_m=Cm(qm.exec),Wm=8!==Dm(Bm+"08")||22!==Dm(Bm+"0x16")||Fm&&!Im((function(){Dm(Object(Fm))}))?function(t,e){var n=Nm(Lm(t));return Dm(n,e>>>0||(_m(qm,n)?16:10))}:Dm;mo({global:!0,forced:parseInt!=Wm},{parseInt:Wm}),new WeakSet,new WeakSet;var $m=I.PROPER,zm=s,Ym=Om,Um=Mm.trim;mo({target:"String",proto:!0,forced:function(t){return zm((function(){return!!Ym[t]()||"âÂá "!=="âÂá "[t]()||$m&&Ym[t].name!==t}))}("trim")},{trim:function(){return Um(this)}});new WeakSet,new WeakSet;var Hm,Vm,Km;new WeakSet;var Jm=".ch-plugin-legend-lite",Xm={enabled:!0,itemSelector:null,width:10,height:10,gutter:2,radius:0,includeBlank:!1},Qm=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Hm.add(this),this.name="LegendLite",this.calendar=t,this.root=null,this.shown=!1,this.options=Xm}var r,o,i;return r=e,o=[{key:"setup",value:function(t){this.options=Object.assign(Object.assign({},this.options),t)}},{key:"paint",value:function(){var e=this.options,n=e.enabled,r=e.itemSelector;if(!n||r&&t.select(r).empty())return this.destroy();this.shown=!0,this.root=t.select(r||this.calendar.options.options.itemSelector),this.root.select(Jm).empty()?this.root=this.root.append("div").attr("class",Jm.slice(1)):this.root=this.root.select(Jm);var o=dh(this,Hm,"m",Vm).call(this);return this.root.selectAll("*").remove(),this.root.append((function(){return o.node()})),Promise.resolve()}},{key:"destroy",value:function(){return null!==this.root&&(this.root.remove(),this.root=null),Promise.resolve()}}],o&&n(r.prototype,o),i&&n(r,i),Object.defineProperty(r,"prototype",{writable:!1}),e}();return Hm=new WeakSet,Vm=function(){var e=this,n=t.create("svg"),r=Ly(this.calendar.options.options.scale),i=this.options,a=i.width,u=i.height,c=i.gutter,s=i.includeBlank,f=o(r.range);return s&&f.unshift(null),n.attr("class",".ch-container".slice(1)).attr("width",f.length*a+(f.length-1)*c).attr("height",u),n.selectAll("rect").data(f).join((function(t){return t.append("rect").call((function(t){return dh(e,Hm,"m",Km).call(e,t,r)}))}),(function(t){return t.selectAll("rect").call((function(t){return dh(e,Hm,"m",Km).call(e,t,r)}))})),n},Km=function(t,e){var n=this,r=this.options,o=r.width,i=r.height,a=r.radius,u=r.gutter;return t.attr("width",o).attr("height",i).attr("class","".concat(".ch-subdomain".slice(1),"-bg")).attr("rx",a).attr("ry",a).attr("x",(function(t,e){return e*(o+u)})).attr("y",0).call((function(t){Ny(t,e,n.calendar.options.options.scale)}))},Qm}));//# sourceMappingURL=LegendLite.min.js.map
